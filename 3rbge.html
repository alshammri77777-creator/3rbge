<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3rbge</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --glass-bg: rgba(255, 255, 255, 0.07); 
            --glass-border: rgba(255, 255, 255, 0.15);
            --glass-blur: blur(25px);
            --btn-glass: rgba(40, 40, 40, 0.5); 
            --accent: #ffffff;
        }

        body {
            margin: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            background: #000 url('p/win.png') center/cover no-repeat;
            overflow: hidden;
            font-family: 'Segoe UI', system-ui, sans-serif;
            user-select: none;
            -webkit-user-select: none;
        }

        #loader {
            position: fixed; inset: 0; z-index: 9999;
            background: url('p/win.png') center/cover no-repeat;
            display: flex; justify-content: center; align-items: center;
            transition: opacity 1.2s ease;
        }
        #loader::before {
            content: ""; position: absolute; inset: 0;
            background: rgba(0,0,0,0.6); backdrop-filter: blur(60px);
        }
        .spinner {
            width: 40px; height: 40px; border: 2px solid rgba(255,255,255,0.1);
            border-top-color: #fff; border-radius: 50%;
            animation: spin 0.8s infinite linear; z-index: 10;
        }
        @keyframes spin { to { transform: rotate(360deg); } }

        .entrance-hidden {
            opacity: 0;
            transform: translateX(100px) scaleX(1.4);
            filter: blur(15px);
            pointer-events: none;
        }

        .bubble-in {
            opacity: 1 !important;
            transform: translateX(0) scaleX(1) !important;
            filter: blur(0) !important;
            transition: all 0.9s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            pointer-events: auto !important;
        }

        canvas#stars { position: absolute; inset: 0; z-index: 0; pointer-events: none; opacity: 0.5; }

        #header { margin-top: 50px; display: flex; flex-direction: column; align-items: center; z-index: 10; color: #fff; }
        #header h1 { margin: 15px 0; font-size: 1.8rem; letter-spacing: 6px; font-weight: 900; opacity: 0.85; text-transform: lowercase; }

        .player-card {
            background: var(--glass-bg); backdrop-filter: var(--glass-blur);
            -webkit-backdrop-filter: var(--glass-blur); border: 1px solid var(--glass-border);
            padding: 25px; border-radius: 32px; width: 300px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.3);
        }

        .controls { display: flex; align-items: center; justify-content: center; gap: 18px; margin-bottom: 15px; }
        .btn-audio {
            background: var(--btn-glass); 
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255,255,255,0.1); 
            width: 48px; height: 48px; border-radius: 50%; 
            display: flex; align-items: center; justify-content: center; 
            cursor: pointer; transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); color: #fff;
        }
        .btn-audio i { font-size: 1rem; }
        .btn-audio:hover { transform: scale(1.1); background: rgba(60, 60, 60, 0.6); border-color: rgba(255,255,255,0.3); }
        
        #playBtn i { margin-left: 3px; }

        .progress-container { width: 100%; height: 4px; background: rgba(255,255,255,0.1); border-radius: 10px; cursor: pointer; }
        #progress { height: 100%; background: #fff; width: 0%; border-radius: 10px; }
        .time-info { display: flex; justify-content: space-between; color: rgba(255,255,255,0.4); font-size: 10px; margin-top: 10px; font-family: monospace; }

        .taskbar-container { position: relative; margin-bottom: 50px; z-index: 100; }
        .navbar { 
            display: flex; gap: 12px; padding: 12px; border-radius: 40px; 
            background: var(--glass-bg); backdrop-filter: var(--glass-blur); border: 1px solid var(--glass-border);
        }
        .nav-item { width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; cursor: pointer; position: relative; z-index: 10; }
        .nav-item img { width: 30px; height: 30px; opacity: 0.6; transition: 0.4s; }
        .nav-item.lit img { opacity: 1; transform: scale(1.15); }

        .lens {
            position: absolute; top: 12px; left: 12px; width: 60px; height: 60px;
            background: rgba(255, 255, 255, 0.08); backdrop-filter: blur(10px) saturate(1.5); 
            border: 1px solid rgba(255,255,255,0.25); pointer-events: none; z-index: 5;
            will-change: transform, left, border-radius;
        }

        #customAlert {
            position: fixed; inset: 0; background: rgba(0,0,0,0.7);
            display: none; justify-content: center; align-items: center; z-index: 2000;
            backdrop-filter: blur(12px);
        }
        .alert-box {
            background: rgba(20, 20, 20, 0.7); backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border); padding: 35px; border-radius: 30px;
            text-align: center; color: white; width: 320px; transform: scale(0.9); transition: 0.4s;
        }
        .alert-btns { display: flex; gap: 12px; justify-content: center; margin-top: 25px; }
        .alert-btn { padding: 12px 30px; border-radius: 15px; border: none; cursor: pointer; font-weight: 600; }
        .btn-confirm { background: #fff; color: #000; }
        .btn-cancel { background: rgba(255,255,255,0.1); color: #fff; border: 1px solid rgba(255,255,255,0.1); }
        
        .copyBubble { position: absolute; top: -55px; left: 50%; transform: translateX(-50%); background: #fff; color: #000; padding: 6px 14px; border-radius: 10px; font-size: 11px; font-weight: bold; opacity: 0; transition: 0.3s; }
    </style>
</head>
<body>

<div id="loader"><div class="spinner"></div></div>
<canvas id="stars"></canvas>

<div id="customAlert">
    <div class="alert-box" id="alertBox">
        <i class="fas fa-exclamation-circle" style="font-size: 2rem; margin-bottom: 20px; opacity: 0.6;"></i>
        <p style="font-size: 1.05rem; font-weight: 400;">You will be redirected to a new page,<br>are you sure?</p>
        <div class="alert-btns">
            <button class="alert-btn btn-confirm" id="confirmGo">Yes</button>
            <button class="alert-btn btn-cancel" id="cancelGo">No</button>
        </div>
    </div>
</div>

<div id="header" class="entrance-hidden">
    <img src="p/3rbge.png" width="80">
    <h1>3rbge</h1>
    <div class="player-card">
        <div class="controls">
            <button class="btn-audio" id="muteBtn"><i class="fas fa-volume-up"></i></button>
            <button class="btn-audio" id="playBtn"><i class="fas fa-play"></i></button>
            <button class="btn-audio" id="pauseBtn" style="display:none;"><i class="fas fa-pause"></i></button>
        </div>
        <div class="progress-container" id="progContainer"><div id="progress"></div></div>
        <div class="time-info"><span id="currT">00:00</span><span id="durT">00:00</span></div>
        <audio id="bgAudio" src="p/3RBGE.mp3" loop></audio>
    </div>
</div>

<div id="taskbar" class="taskbar-container entrance-hidden">
    <div id="lens" class="lens"></div>
    <div class="navbar">
        <div class="nav-item" data-link="home"><img src="p/home.png"></div>
        <div class="nav-item" data-link="discord"><img src="p/DES.png"><div class="copyBubble" id="cb">Copied!</div></div>
        <div class="nav-item" data-link="youtube"><img src="p/yt.png"></div>
        <div class="nav-item" data-link="tools"><img src="p/tools.png"></div>
    </div>
</div>

<script>
    document.addEventListener('contextmenu', e => e.preventDefault());
    document.addEventListener('keydown', e => {
        if (e.key === "F12" || 
           (e.ctrlKey && (e.key === 's' || e.key === 'S' || e.key === 'u' || e.key === 'U' || (e.shiftKey && (e.key === 'I' || e.key === 'i'))))) {
            e.preventDefault();
            return false;
        }
    });

    window.addEventListener('load', () => {
        setTimeout(() => {
            const loader = document.getElementById('loader');
            loader.style.opacity = '0';
            setTimeout(() => {
                loader.style.display = 'none';
                document.getElementById('header').classList.add('bubble-in');
                setTimeout(() => document.getElementById('taskbar').classList.add('bubble-in'), 200);
            }, 1000);
        }, 3000); 
    });

    const starCanvas = document.getElementById('stars');
    const sCtx = starCanvas.getContext('2d');
    let stars = [];
    function resizeStars() { starCanvas.width = innerWidth; starCanvas.height = innerHeight; }
    window.addEventListener('resize', resizeStars);
    resizeStars();
    for(let i=0; i<60; i++) stars.push({ x: Math.random()*innerWidth, y: Math.random()*innerHeight, s: Math.random()*1.2, v: Math.random()*0.3 + 0.1 });
    function drawStars() {
        sCtx.clearRect(0,0,innerWidth,innerHeight); sCtx.fillStyle = "#fff";
        stars.forEach(s => { sCtx.beginPath(); sCtx.arc(s.x, s.y, s.s, 0, Math.PI*2); sCtx.fill(); s.y += s.v; if(s.y > innerHeight) s.y = -5; });
        requestAnimationFrame(drawStars);
    }
    drawStars();

    const lens = document.getElementById('lens');
    const items = document.querySelectorAll(".nav-item");
    const alertModal = document.getElementById('customAlert');
    const alertBox = document.getElementById('alertBox');
    let curX=12, targetX=12, vel=0;
    const spring=.065, friction=.82;
    let borderShape = 30;

    items.forEach(item => {
        item.addEventListener('click', () => {
            targetX = item.offsetLeft;
            const link = item.getAttribute('data-link');
            if(link === 'youtube') { alertModal.style.display = 'flex'; setTimeout(() => alertBox.style.transform = 'scale(1)', 10); }
            if(link === 'discord') { navigator.clipboard.writeText("rv_q"); const b = document.getElementById('cb'); b.style.opacity = 1; setTimeout(()=> b.style.opacity=0, 1500); }
        });
    });

    document.getElementById('confirmGo').onclick = () => { window.open("https://www.youtube.com/@3RBGE", "_blank"); closeAlert(); };
    document.getElementById('cancelGo').onclick = closeAlert;
    function closeAlert() { alertBox.style.transform = 'scale(0.9)'; setTimeout(() => alertModal.style.display = 'none', 200); }

    function updatePhysics() {
        let dx = targetX - curX; vel += dx * spring; vel *= friction; curX += vel;
        let speed = Math.abs(vel);
        lens.style.width = (60 + speed * 0.7) + 'px';
        lens.style.height = (60 - speed * 0.3) + 'px';
        lens.style.left = (curX - speed * 0.2) + 'px';
        let targetRadius = (speed < 0.1 && Math.abs(dx) < 0.1) ? 15 : 35;
        borderShape += (targetRadius - borderShape) * 0.1;
        lens.style.borderRadius = borderShape + 'px';
        items.forEach(it => { const isOver = Math.abs(it.offsetLeft - curX) < 5; it.classList.toggle('lit', isOver); });
        requestAnimationFrame(updatePhysics);
    }
    updatePhysics();

    const audio = document.getElementById('bgAudio');
    const pBtn = document.getElementById('playBtn'), paBtn = document.getElementById('pauseBtn'), prog = document.getElementById('progress');
    const fmt = (s) => { let m = Math.floor(s/60); let sc = Math.floor(s%60); return (m<10?'0':'')+m+':'+(sc<10?'0':'')+sc; }
    pBtn.onclick = () => { audio.play(); pBtn.style.display='none'; paBtn.style.display='flex'; };
    paBtn.onclick = () => { audio.pause(); paBtn.style.display='none'; pBtn.style.display='flex'; };
    document.getElementById('muteBtn').onclick = function() { audio.muted = !audio.muted; this.innerHTML = audio.muted ? '<i class="fas fa-volume-mute"></i>' : '<i class="fas fa-volume-up"></i>'; };
    audio.ontimeupdate = () => {
        prog.style.width = (audio.currentTime/audio.duration)*100 + '%';
        document.getElementById('currT').innerText = fmt(audio.currentTime);
        if(audio.duration) document.getElementById('durT').innerText = fmt(audio.duration);
    };
    document.getElementById('progContainer').onclick = (e) => { audio.currentTime = (e.offsetX / e.currentTarget.clientWidth) * audio.duration; };
</script>
</body>
</html>